import{R as l,a as d}from"./index-CCRtHCBa.js";const R=l[typeof document<"u"&&document.createElement!==void 0?"useLayoutEffect":"useEffect"],E=e=>{const r=d.useRef(e);return d.useEffect(()=>{r.current=e}),r};function O(){}function m(e,r,s={}){const t=L(s.polyfill),f=E(r);return R(()=>{let n=!1;const i=e&&"current"in e?e.current:e;if(!i)return O;function c(u,o){n||f.current(u,o)}return t.subscribe(i,c),()=>{n=!0,t.unsubscribe(i,c)}},[e,t,f]),t.observer}function z(e){let r=!1,s=[];const t=new Map,f=new(e||window.ResizeObserver)((n,i)=>{s=s.concat(n);function c(){const u=new Set;for(let o=0;o<s.length;o++){if(u.has(s[o].target))continue;u.add(s[o].target);const a=t.get(s[o].target);a?.forEach(v=>v(s[o],i))}s=[],r=!1}r||window.requestAnimationFrame(c),r=!0});return{observer:f,subscribe(n,i){var c;f.observe(n);const u=(c=t.get(n))!==null&&c!==void 0?c:[];u.push(i),t.set(n,u)},unsubscribe(n,i){var c;const u=(c=t.get(n))!==null&&c!==void 0?c:[];if(u.length===1){f.unobserve(n),t.delete(n);return}const o=u.indexOf(i);o!==-1&&u.splice(o,1),t.set(n,u)}}}let b;const L=e=>b||(b=z(e));function g(e){const[r,s]=l.useState("");return l.useEffect(()=>{s(t=>(t&&URL.revokeObjectURL(t),e?URL.createObjectURL(e):""))},[e]),r}function p(e){const[r,s]=l.useState();return l.useLayoutEffect(()=>{e&&s(e.getBoundingClientRect())},[e]),m(e,t=>s(t.contentRect)),r}export{p as a,g as u};
