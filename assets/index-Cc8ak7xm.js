import{j as s,R as r}from"./index-C17uvJyM.js";import{G as i}from"./iconBase-DYYEzVNf.js";import{c as f}from"./helpers-Cs5YJYh0.js";import{t as c,r as p}from"./register_all_kernels-DXH-6K2q.js";import{t as l}from"./browser-qhGOZmkM.js";function u(e){return i({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 13v.01"},child:[]},{tag:"path",attr:{d:"M4 9v.01"},child:[]},{tag:"path",attr:{d:"M4 5v.01"},child:[]},{tag:"path",attr:{d:"M17 20l3 -3l-3 -3"},child:[]},{tag:"path",attr:{d:"M4 17h16"},child:[]}]})(e)}function x(e){return i({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 20h-.01"},child:[]},{tag:"path",attr:{d:"M15 20h-.01"},child:[]},{tag:"path",attr:{d:"M19 20h-.01"},child:[]},{tag:"path",attr:{d:"M4 7l3 -3l3 3"},child:[]},{tag:"path",attr:{d:"M7 20v-16"},child:[]}]})(e)}function m({className:e,swapOffComponent:t,swapOnComponent:a,...n}){return s.jsxs("label",{className:f("swap swap-flip",e),children:[s.jsx("input",{type:"checkbox",...n}),s.jsx("span",{className:"swap-on",children:a}),s.jsx("span",{className:"swap-off",children:t})]})}const o=400;function g(e){const[t,a]=r.useState();return r.useEffect(()=>{t||a(c(()=>p([o,o],0,1)))},[t]),r.useEffect(()=>{t&&l(t,e)},[e,t]),r.useEffect(()=>()=>{t&&t.dispose()},[t]),t}function j({swap:e,randomnessTensor:t,canvas:a}){r.useEffect(()=>{t&&c(()=>{const n=(e?t.transpose():t).topk(o).values;l(e?n.transpose():n,a)})},[e,t,a])}function R(){const[e,t]=r.useState(!1),a=r.useRef(null),n=r.useRef(null),d=g(a.current);return j({swap:e,randomnessTensor:d,canvas:n.current}),s.jsx("section",{className:"max-w-6xl mx-auto flex flex-col justify-center items-center gap-2 w-full p-2",children:s.jsxs("div",{className:"prose",children:[s.jsx("h2",{children:"Sorting Chaos Challenge"}),s.jsx("p",{children:"How can you generate a random 400 x 400 grayscale tensor and then sort the random pixels along an axis?"}),s.jsxs("p",{children:["Click to swap which axis to sort:"," ",s.jsx(m,{className:"text-3xl",checked:e,onChange:h=>t(h.target.checked),swapOnComponent:s.jsx(x,{}),swapOffComponent:s.jsx(u,{})})]}),s.jsxs("div",{className:"flex gap-6 flex-col justify-center",children:[s.jsx("canvas",{width:o,height:o,ref:a}),s.jsx("canvas",{width:o,height:o,ref:n})]})]})})}export{R as default};
